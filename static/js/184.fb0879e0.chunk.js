"use strict";(self.webpackChunkda_rfo_02_portal=self.webpackChunkda_rfo_02_portal||[]).push([[184],{3533:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var s=t(885),c=t(2791),o=t(9051),i=t(370),r=t(3513),a=t(1405),l=t(6782),u=t(2426),d=t.n(u),m=t(184);function h(e){var n=this;this.getTasksArray=e,this.getTasks=function(){return(0,m.jsx)("ul",{children:n.getTasksArray.map((function(e,n){switch(e){case"addInitialRouting":return(0,m.jsx)("li",{children:"Add Initial Routing"},n);case"addRoutingNote":return(0,m.jsx)("li",{children:"Add Routing Note"},n);case"routeCommunication":return(0,m.jsx)("li",{children:"Route Communication"},n);case"viewRouting":return(0,m.jsx)("li",{children:"View Routing"},n);case"addAction":return(0,m.jsx)("li",{children:"Add Action"},n);case"forRouting":return(0,m.jsx)("li",{children:"For Routing"},n);case"reviewAction":return(0,m.jsx)("li",{children:"Review Action Taken"},n);case"viewActionStatus":return(0,m.jsx)("li",{children:"View action for revision"},n);case"reforwardForAction":return(0,m.jsx)("li",{children:"Refoward communication"},n);default:return(0,m.jsx)("li",{children:"View Communication"},n)}}))})}}var x=t(5617),f=t(6871),g=t(6263),j=t.n(g),_=t(7373),p=t(9126),b=t(763),w=function(){var e=(0,c.useState)(""),n=(0,s.Z)(e,2),t=n[0],u=n[1],g=(0,a.I0)(),w=(0,f.s0)(),k=(0,a.v9)((function(e){return e.inbox})),v=k.inbox,N=k.isLoading,C=function(e){var n=e.props,t=n.data,s=t.com_subject,c=t.com_source_name,i=t.com_source_position,r=t.com_source_office,a=t.com_dateReceived,u=t.inbox_task,x=t.com_dateCreated,f=t.emp_firstname,j=t.emp_lastname,p=t.office_code,k=new h(u).getTasks();return(0,m.jsxs)("div",{className:"p-3 bg-light text-dark",children:[(0,m.jsx)("strong",{children:s}),(0,m.jsxs)("span",{className:"d-block",children:["Source:\xa0",(0,m.jsxs)("u",{children:[(0,m.jsx)("strong",{children:c}),", ".concat(i,", ").concat(r)]})]}),(0,m.jsxs)("span",{className:"d-block",children:["Received:\xa0",(0,m.jsx)("i",{children:d()(a).format("MMMM D, YYYY hh:mm  A")})," "]}),(0,m.jsxs)("span",{className:"d-block",children:["Created:\xa0",(0,m.jsx)("i",{children:d()(x).format("MMMM D, YYYY hh:mm  A")})," "]}),(0,m.jsxs)("span",{className:"d-block",children:["Sent By:\xa0",(0,m.jsx)("i",{children:"".concat(f," ").concat(j," - ").concat(p)})," "]}),(0,m.jsx)("span",{children:"Tasks: "}),k,(0,m.jsx)(o.zx,{size:"sm",color:"success",onClick:function(e){return function(e,n){g((0,_.OC)()),b.isNull(e.inbox_date_seen)&&(n.target.parentElement.parentElement.setAttribute("style","font-weight: none;"),g((0,l.nm)()),g((0,l.pv)(e.inbox_id))),w("/dts/managementOfCommunications/inbox/viewTask/".concat(e.inbox_id,"/").concat(e.com_id))}(n.data,e)},children:"View Task"})]})};(0,c.useEffect)((function(){g((0,l.EW)())}),[g]);var R=[{name:"Control No",selector:function(e){return e.com_controlNo},wrap:!0,sortable:!0,cell:function(e){return b.isEmpty(t)?e.com_controlNo:(0,m.jsx)(j(),{highlightClassName:"bg-super-light-green",searchWords:[t],autoEscape:!0,textToHighlight:e.com_controlNo})}},{name:"Subject",selector:function(e){return e.com_subject}},{name:"From",cell:function(e){return"".concat(e.emp_firstname," ").concat(e.emp_lastname," - ").concat(e.office_code)}},{name:"Tasks",selector:function(e){return e.inbox_task},wrap:!0,cell:function(e){return new h(e.inbox_task).getTasks()}},{name:"Action",center:!0,cell:function(e){return(0,m.jsx)(o.zx,{color:"success",size:"sm",onClick:function(n){g((0,_.OC)()),b.isNull(e.inbox_date_seen)&&(n.target.parentElement.parentElement.setAttribute("style","font-weight: none;"),g((0,l.nm)()),g((0,l.pv)(e.inbox_id))),w("/dts/managementOfCommunications/inbox/viewTask/".concat(e.inbox_id,"/").concat(e.com_id))},children:"View Task"})}}],A=v.filter((function(e){return e.com_controlNo.toLowerCase().includes(t.toLocaleLowerCase())}));return(0,m.jsx)(o.W2,{className:"mt-3",children:(0,m.jsxs)(o.X2,{children:[(0,m.jsxs)("div",{className:"d-flex align-items-center",children:[(0,m.jsx)("h3",{children:"Inbox"}),(0,m.jsx)(i.s,{name:"Refresh",className:"ms-2",icon:(0,m.jsx)(p.xr6,{}),onClick:function(){g((0,l.EW)())}})]}),(0,m.jsx)(o.JX,{md:"12",children:(0,m.jsxs)(o.X2,{children:[(0,m.jsx)(o.JX,{md:"6",children:(0,m.jsx)(i.kP,{placeholder:"Enter control number...",className:"mb-3",onSearchValueChange:function(e){u(e.target.value)},searchValue:t,clearSearch:function(){u("")}})}),(0,m.jsxs)(o.JX,{children:[(0,m.jsx)("br",{}),(0,m.jsx)(x.Ft,{})]})]})}),(0,m.jsxs)(o.JX,{children:[(0,m.jsx)("div",{className:"mt-2"}),(0,m.jsx)(r.ZP,{data:A,columns:R,highlightOnHover:!0,pagination:!0,progressPending:N,conditionalRowStyles:[{when:function(e){return"OMG"===e.com_urgency},classNames:["bg-danger","text-light"]},{when:function(e){return"Rush"===e.com_urgency},classNames:["bg-warning","text-dark"]},{when:function(e){return"Regular"===e.com_urgency},classNames:["bg-light","text-dark"]},{when:function(e){return null===e.inbox_date_seen},style:{fontWeight:"bold"}}],expandableRows:!0,responsive:!0,expandableRowsComponent:function(e){return(0,m.jsx)(C,{props:e})},expandOnRowClicked:!0,progressComponent:(0,m.jsx)(o.$j,{})})]})]})})}}}]);
//# sourceMappingURL=184.fb0879e0.chunk.js.map