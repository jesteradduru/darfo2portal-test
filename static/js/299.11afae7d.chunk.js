"use strict";(self.webpackChunkda_rfo_02_portal=self.webpackChunkda_rfo_02_portal||[]).push([[299],{6981:function(e,n,t){t.r(n);var r=t(2791),o=t(1405),i=t(2706),a=t(9051),s=t(2741),c=t(5617),u=t(4464),l=t(1588),d=t(1146),_=t(370),m=t(9126),f=t(184),g=t(763);n.default=function(e){var n=e.data,t=e.viewOnly,p=(0,o.v9)((function(e){return e.accounts})).users,v=(0,o.v9)((function(e){return e.user})).user,x=(0,o.v9)((function(e){return e.tasks})).viewCommunicationData,j=(0,o.I0)(),h=(0,o.v9)((function(e){return e.routing})).routingRecipients,y=(0,o.v9)((function(e){return e.tasks})),L=y.tasks,w=y.taskCounter,k=(0,r.useRef)(),C=(0,d.useReactToPrint)({content:function(){return k.current},documentTitle:"routing_slip",pageStyle:"print"}),R=p.filter((function(e){return e.group_id===n.value})).map((function(e){return{value:e.user_username,label:"".concat(e.emp_firstname,"  ").concat(e.emp_lastname," - ").concat(e.office_code),user_id:e.user_id,user_username:e.user_username,user_fullname:"".concat(e.emp_firstname,"  ").concat(e.emp_lastname," - ").concat(e.office_code),role_name:e.role_name,role_id:e.role_id}})),b=h.filter((function(e){return e.value===n.value}));(0,r.useEffect)((function(){j((0,s.JK)({group_id:n.value,recipients:R})),j((0,l.T8)()),j((0,u.PR)())}),[j]);var P,N=function(e){if(n.routing_legend)return n.routing_legend.includes(e)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_.s,{name:"Print Routing",outline:!0,icon:(0,f.jsx)(m.dwT,{}),className:"ms-auto d-block my-2 d-print-none",onClick:C}),(0,f.jsxs)(a.l0,{id:"routing_".concat(n.value),ref:k,className:"p-md-4 p-1 rounded bg-super-light-green m-md-2 routing_slip_form",style:{pointerEvents:t?"none":""},children:[(0,f.jsxs)(a.cw,{children:[(0,f.jsx)(a.__,{for:"reference_no",children:"Reference No."}),(0,f.jsx)(a.II,{type:"text",id:"reference_no",name:"reference_no",size:"sm",defaultValue:n.routing_referenceNo?n.routing_referenceNo:"139-9-".concat(x.class_code,"-")})]}),(0,f.jsxs)(a.cw,{children:[(0,f.jsx)(a.__,{for:"routing_from",children:"From"}),(0,f.jsx)(a.II,{type:"text",id:"routing_from",defaultValue:function(){if(!g.isEmpty(p)){if(v.role_name.includes("Process-level")&&!t){var e=p.filter((function(e){return"Process-level Approver"===e.role_name}))[0];return"".concat(e.emp_firstname," ").concat(e.emp_middlename[0],". ").concat(e.emp_lastname," - ").concat(e.emp_position)}if(t){var r=p.filter((function(e){return e.user_id===n.routing_from}))[0];return"".concat(r.emp_firstname," ").concat(r.emp_middlename[0],". ").concat(r.emp_lastname," - ").concat(r.emp_position)}return"".concat(v.emp_firstname," ").concat(v.emp_middlename[0],". ").concat(v.emp_lastname," - ").concat(v.emp_position)}}(),name:"routing_from",size:"sm"})]}),"group"===n.type?(0,f.jsxs)(a.cw,{children:[(0,f.jsx)(a.__,{for:"routing_to",children:"To"}),(0,f.jsx)(i.ZP,{options:R,isMulti:!0,defaultValue:R,className:"basic-multi-select",classNamePrefix:"select",onChange:function(e){j((0,s.JK)({group_id:n.value,recipients:e}))}})]}):(0,f.jsxs)(a.cw,{children:[(0,f.jsx)(a.__,{for:"routing_to",children:"To"}),(0,f.jsx)(i.ZP,{options:b,defaultValue:n.routing_to?[{label:n.label}]:b,classNamePrefix:"select"})]}),(0,f.jsxs)(a.X2,{style:{wordWrap:"break-word"},children:[(0,f.jsxs)(a.JX,{md:"6",children:[(0,f.jsx)(c.Ls,{name:"routing_legend",id:"for_action_".concat(n.value),value:"for_action",desc:"For your appropriate action",isLegendContains:N}),(0,f.jsx)(c.Ls,{name:"routing_legend",id:"for_information_".concat(n.value),value:"for_information",desc:"For your information/file & reference",isLegendContains:N}),(0,f.jsx)(c.Ls,{name:"routing_legend",id:"for_review_".concat(n.value),value:"for_review",desc:"For your review/ comments/ recommendation/ validation",isLegendContains:N}),(0,f.jsx)(c.Ls,{name:"routing_legend",id:"draft_reply_".concat(n.value),value:"draft_reply",desc:"Draft reply/For your acknowledgement",defaultValue:n.routing_draftReply,textbox:!0,isLegendContains:N})]}),(0,f.jsxs)(a.JX,{md:"6",children:[(0,f.jsx)(c.Ls,{name:"routing_legend",id:"rush_".concat(n.value),value:"rush",desc:"Rush",isLegendContains:N}),(0,f.jsx)(c.Ls,{name:"routing_legend",id:"urgent_".concat(n.value),value:"urgent",desc:"Urgent",isLegendContains:N}),(0,f.jsx)(c.Ls,{name:"routing_legend",id:"for_circulation_".concat(n.value),value:"for_circulation",desc:"For circulation & dissemination",isLegendContains:N}),(0,f.jsx)(c.Ls,{name:"routing_legend",id:"for_schedule_".concat(n.value),value:"for_schedule",desc:"For schedule",isLegendContains:N}),(0,f.jsx)(c.Ls,{name:"routing_legend",id:"attend_".concat(n.value),value:"attend",desc:"Attend/Represent Me",isLegendContains:N}),(0,f.jsx)(c.Ls,{name:"routing_legend",id:"consolidate_".concat(n.value),value:"consolidate",textbox:!0,defaultValue:N("consolidate")?n.routing_consolidate:"\nPlease consolidate & submit to my office on or before\n",isLegendContains:N})]}),("Rush"===x.com_urgency||(P=L[w],["viewRouting","addRoutingNote","forRouting","routeCommunication"].includes(P)))&&(0,f.jsx)(a.JX,{md:"12",children:(0,f.jsxs)(a.cw,{children:[(0,f.jsx)(a.__,{for:"routing_remarks",children:"Remarks"}),(0,f.jsx)(a.II,{defaultValue:n.routing_remarks,type:"textarea",id:"routing_remarks_".concat(n.value),name:"routing_remarks",size:"sm",rows:"5"})]})})]})]})]})}}}]);
//# sourceMappingURL=299.11afae7d.chunk.js.map