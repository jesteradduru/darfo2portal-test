"use strict";(self.webpackChunkda_rfo_02_portal=self.webpackChunkda_rfo_02_portal||[]).push([[192],{3423:function(e,t,n){n.r(t);var o=n(885),a=n(2791),c=n(3513),r=n(6263),s=n.n(r),i=n(9051),l=n(370),u=n(2426),m=n.n(u),f=n(1405),d=n(5004),_=(n(5106),n(829)),h=n(554),Y=n(7161),p=n(9126),C=n(184),D=n(763);t.default=function(){var e=(0,a.useState)(""),t=(0,o.Z)(e,2),n=t[0],r=t[1],u=(0,f.I0)(),g=(0,f.v9)((function(e){return e.logs})),j=g.logs,L=g.isLoading,w=(0,a.useState)(!1),x=(0,o.Z)(w,2),M=x[0],S=x[1],O=(0,a.useState)([{startDate:(0,h.Z)(new Date,1),endDate:new Date,key:"selection"}]),b=(0,o.Z)(O,2),N=b[0],v=b[1],Z=function(e){return D.isEmpty(n)?e:(0,C.jsx)(s(),{highlightClassName:"bg-warning",searchWords:[n],autoEscape:!0,textToHighlight:e})},A=[{name:"CONTROL NO",selector:function(e){return e.com_controlNo},wrap:!0,sortable:!0,cell:function(e){return Z(e.com_controlNo)}},{name:"CLASSIFICATION",selector:function(e){return e.class_name+" "+e.cat_name},wrap:!0,cell:function(e){return Z(e.class_name+" "+e.cat_name)}},{name:"SUBJECT",selector:function(e){return e.com_subject},wrap:!0,cell:function(e){return Z(e.com_subject)}},{name:"SOURCE",cell:function(e){return Z("".concat(e.com_source_name,", ").concat(e.com_source_position,", ").concat(e.com_source_office))}},{name:"ACTION",selector:function(e){return e.trail_description},cell:function(e){return Z(e.trail_description)}},{name:"BY",selector:function(e){return e.trail_description},cell:function(e){return Z("".concat(e.emp_firstname," ").concat(e.emp_middlename[0]," ").concat(e.emp_lastname," - ").concat(e.office_code))}},{name:"DATE",selector:function(e){return m()(e.trail_date).format("DD-MM-YYYY hh:mmA")},cell:function(e){return Z(m()(e.trail_date).format("DD-MM-YYYY hh:mmA"))},sortable:!0}],k=j.filter((function(e){var t=m()(N[0].startDate).format("MM-DD-YYYY"),o=m()(N[0].endDate).format("MM-DD-YYYY"),a=e.com_controlNo.toLowerCase().includes(n.toLocaleLowerCase())||e.com_subject.toLowerCase().includes(n.toLocaleLowerCase())||"".concat(e.class_name," ").concat(e.cat_name).toLowerCase().includes(n.toLocaleLowerCase())||"".concat(e.com_source_name,", ").concat(e.com_source_position,", ").concat(e.com_source_office).toLowerCase().includes(n.toLocaleLowerCase())||"".concat(e.emp_firstname," ").concat(e.emp_middlename[0]," ").concat(e.emp_lastname," - ").concat(e.office_code).toLowerCase().includes(n.toLocaleLowerCase())||m()(e.trail_date).format("DD-MM-YYYY hh:mmA").toLowerCase().includes(n.toLocaleLowerCase()),c=m()(t).isSameOrBefore(m()(e.trail_date).format("MM-DD-YYYY"))&&m()(o).isSameOrAfter(m()(e.trail_date).format("MM-DD-YYYY"));return a&&c}));return(0,a.useEffect)((function(){u((0,_.y)())}),[u]),(0,C.jsx)(i.W2,{className:"mt-3",children:(0,C.jsxs)(i.X2,{children:[(0,C.jsx)(i.JX,{md:"12",children:(0,C.jsxs)(i.X2,{children:[(0,C.jsx)("h3",{children:"Communication Logs"}),(0,C.jsxs)(i.JX,{md:"6",children:[(0,C.jsx)(l.kP,{placeholder:"Search",className:"mb-3",onSearchValueChange:function(e){r(e.target.value)},searchValue:n,clearSearch:function(){return r("")}}),(0,C.jsx)(l.s,{className:"mt-2",name:"Communication Log Date Range",icon:M?(0,C.jsx)(p.jnn,{}):(0,C.jsx)(p.F0C,{}),onClick:function(){return S(!M)}}),(0,C.jsx)(i.UO,{isOpen:M,children:(0,C.jsx)(Y.C0,{editableDateInputs:!0,onChange:function(e){return v([e.selection])},moveRangeOnFirstSelection:!1,ranges:N})})]}),(0,C.jsxs)("i",{children:["Showing results from"," ",m()(N[0].startDate).format("DD-MM-YYYY")," to"," ",m()(N[0].endDate).format("DD-MM-YYYY")]})]})}),(0,C.jsx)(i.JX,{children:(0,C.jsx)(d.Z,{columns:A,data:k,exportHeaders:!0,filter:!1,children:(0,C.jsx)(c.ZP,{columns:A,data:k,highlightOnHover:!0,pagination:!0,pointerOnHover:!0,progressPending:L,progressComponent:(0,C.jsx)(i.$j,{}),persistTableHead:!0})})})]})})}},554:function(e,t,n){n.d(t,{Z:function(){return r}});var o=n(9297),a=n(9040),c=n(4522);function r(e,t){(0,c.Z)(2,arguments);var n=(0,o.Z)(t);return(0,a.default)(e,-n)}}}]);
//# sourceMappingURL=192.e5e0741d.chunk.js.map