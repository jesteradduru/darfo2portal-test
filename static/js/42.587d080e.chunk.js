"use strict";(self.webpackChunkda_rfo_02_portal=self.webpackChunkda_rfo_02_portal||[]).push([[42],{4785:function(e,n,a){a.r(n);var t=a(5861),s=a(885),c=a(7757),r=a.n(c),i=a(2791),o=a(9126),d=a(1405),l=a(6871),m=a(9051),x=a(5776),f=a(5617),u=a(370),h=a(2426),j=a.n(h),p=a(7373),_=a(8950),b=a(184);n.default=function(e){var n=e.reforward,a=(0,l.UO)(),c=a.com_id,h=a.inbox_id,g=(0,d.I0)(),w=(0,d.v9)((function(e){return e.action})),k=w.reviewActionTakenData,v=w.isLoading,N=w.errorMessage,y=w.actor,C=w.rejectedBy,M=w.last_touch,S=w.addLoading,O=(0,l.s0)(),A=(0,i.useState)(!1),D=(0,s.Z)(A,2),K=D[0],L=D[1];(0,i.useEffect)((function(){g((0,x.Ke)({com_id:c,inbox_id:h}))}),[g]);var T=function(){var e=(0,t.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g((0,x.cM)(k));case 2:if(!e.sent.payload.inbox_id){e.next=7;break}return e.next=6,g((0,p.l7)(h));case 6:O("/dts/managementOfCommunications/inbox");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,b.jsxs)(m.W2,{className:"mt-3",children:[(0,b.jsx)(u.Tv,{isOpen:K,toggleModal:function(){return L(!K)},onProceed:T}),(0,b.jsxs)(u.pO,{isLoading:v,errorMessage:N,children:[(0,b.jsx)("h4",{children:"View Action Status"}),(0,b.jsx)("hr",{}),(0,b.jsxs)(m.Zb,{body:!0,style:{backgroundColor:"#ffdede"},children:[(0,b.jsx)(m.ll,{className:"text-danger",tag:"h4",children:"For Revision"}),(0,b.jsxs)(m.SK,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"lead",children:"Action Taken: "}),(0,b.jsxs)("pre",{className:"pre-wrap-text p-2 rounded bg-light shadow",children:[k.act_taken,(0,b.jsx)("br",{}),(0,b.jsx)("i",{className:"text-secondary",children:"by ".concat(y.emp_firstname," ").concat(y.emp_lastname," - ").concat(y.office_code)})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"lead",children:"Remarks: "}),(0,b.jsxs)("pre",{className:"pre-wrap-text p-2 rounded bg-light shadow",children:[k.act_remarks,(0,b.jsx)("br",{}),C&&(0,b.jsx)("i",{className:"text-secondary",children:"by ".concat(C.emp_firstname," ").concat(C.emp_lastname," - ").concat(C.office_code," | ").concat(j()(k.act_reject_date).fromNow())})]})]}),(0,b.jsx)(f.hJ,{title:"Scanned Copies",images:k.scanned&&(0,_.W)(k.scanned)}),(0,b.jsx)("br",{}),(0,b.jsx)(f.$f,{attachments:k.attachments&&(0,_.D)(k.attachments)})]})]}),n&&(0,b.jsxs)("i",{className:"text-info",children:["Note: clicking submit button will forward this communication to"," ","".concat(M.emp_firstname," ").concat(M.emp_lastname," - ").concat(M.office_code)," "]}),(0,b.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[(0,b.jsx)(f.xE,{}),n?(0,b.jsx)(u.s,{size:"md",color:"primary",name:S?(0,b.jsx)(m.$j,{color:"light"}):"Submit",onClick:function(e){e.preventDefault(),L(!K)},icon:(0,b.jsx)(o.fmn,{})}):(0,b.jsx)(f.MK,{})]})]})]})}}}]);
//# sourceMappingURL=42.587d080e.chunk.js.map