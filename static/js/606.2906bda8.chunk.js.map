{"version":3,"file":"static/js/606.2906bda8.chunk.js","mappings":"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","sources":["Helpers/portal_helpers.js","Pages/DTS/MOC/MOC.jsx"],"sourcesContent":["/*\r\n  Portal helper functions\r\n*/\r\nexport const checkPermission = (userPermissions, allowedPermissions) => {\r\n    return userPermissions.includes(allowedPermissions);\r\n}","/*\r\n  This is the Management of Communications Page under DTS.\r\n*/\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport { Container } from \"reactstrap\";\r\nimport { Topbar, Sidenav } from \"../../../Layouts/Portal\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport {\r\n  BsFillPatchQuestionFill,\r\n  BsFillEnvelopeFill,\r\n  BsSearch,\r\n  BsFillPieChartFill,\r\n  BsCalendarCheckFill,\r\n  BsPlusLg,\r\n} from \"react-icons/bs\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getDrafts } from \"../../../features/dts/drafts/draftsSlice\";\r\nimport { checkPermission } from \"../../../Helpers/portal_helpers\";\r\nimport { getUserRolePermission } from \"../../../features/Portal/rolesSlice\";\r\nimport { Notification } from \"../../../Layouts/DTS\";\r\nimport { getInbox } from \"../../../features/dts/inbox/inboxSlice\";\r\n\r\nconst MOC = ({socket}) => {\r\n  const dispatch = useDispatch();\r\n  const draftsCount = useSelector((state) => state.drafts.drafts.length);\r\n  const inboxCount = useSelector((state) => state.inbox.inbox.length);\r\n  const { user_id } = useSelector((state) => state.user.user);\r\n  const { userPermissions } = useSelector((state) => state.roles);\r\n  const {newInboxCount} = useSelector((state) => state.inbox);\r\n\r\n  useEffect(() => {\r\n    dispatch(getDrafts(user_id)); \r\n    dispatch(getUserRolePermission());\r\n    dispatch(getInbox());\r\n  }, [dispatch, user_id]);\r\n\r\n  const navConfig = [\r\n    {\r\n      headerName: \"Incoming Communications\",\r\n      headerIcon: <BsFillEnvelopeFill />,\r\n      links: [\r\n        {\r\n          linkName: \"Add New\",\r\n          linkUrl: \"/dts/managementOfCommunications/add\",\r\n          icon: <BsPlusLg />,\r\n          active: true,\r\n          hidden: !checkPermission(userPermissions, \"addCommunication\"),\r\n        },\r\n        {\r\n          linkName: \"Inbox\",\r\n          linkUrl: \"/dts/managementOfCommunications/inbox\",\r\n          active: false,\r\n          count: inboxCount,\r\n          new: newInboxCount,\r\n          showBadge: true,\r\n        },\r\n        {\r\n          linkName: \"Drafts\",\r\n          linkUrl: \"/dts/managementOfCommunications/draft\",\r\n          active: false,\r\n          count: draftsCount,\r\n          new: 0,\r\n          showBadge: true,\r\n          hidden: !checkPermission(userPermissions, \"manageDrafts\"),\r\n        },\r\n        {\r\n          linkName: \"Classifications\",\r\n          linkUrl: \"/dts/managementOfCommunications/classifications\",\r\n          active: false,\r\n          hidden: !checkPermission(userPermissions, \"manageClassifications\"),\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      headerName: \"Search\",\r\n      headerIcon: <BsSearch />,\r\n      links: [\r\n        {\r\n          linkName: \"Basic Search\",\r\n          linkUrl: \"/dts/managementOfCommunications/search/basic\",\r\n          active: true,\r\n          hidden: !checkPermission(userPermissions, \"basicSearch\"),\r\n        },\r\n        {\r\n          linkName: \"Advanced Search\",\r\n          linkUrl: \"/dts/managementOfCommunications/search/advanced\",\r\n          active: false,\r\n          hidden: !checkPermission(userPermissions, \"advancedSearch\"),\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      headerName: \"Dashboard\",\r\n      headerIcon: <BsFillPieChartFill />,\r\n      links: [\r\n        {\r\n          linkName: \"Analytics\",\r\n          linkUrl: \"/dts/managementOfCommunications/analytics\",\r\n          active: true,\r\n          hidden: !checkPermission(userPermissions, \"viewDashboardAnalytics\"),\r\n        },\r\n        {\r\n          linkName: \"Reports\",\r\n          linkUrl: \"/dts/managementOfCommunications/reports\",\r\n          hidden: !checkPermission(userPermissions, \"exportReport\"),\r\n          active: false,\r\n        },\r\n        {\r\n          linkName: \"Communication Logs\",\r\n          linkUrl: \"/dts/managementOfCommunications/communicationLogs\",\r\n          hidden: !checkPermission(userPermissions, \"exportLog\"),\r\n          active: false,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      headerName: \"Calendar\",\r\n      headerIcon: <BsCalendarCheckFill />,\r\n      links: [\r\n        {\r\n          linkName: \"RED's Activities\",\r\n          linkUrl: \"/dts/managementOfCommunications/calendar\",\r\n          active: true,\r\n          hidden: !checkPermission(userPermissions, \"viewCalendar\"),\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      headerName: \"Help & Support\",\r\n      headerIcon: <BsFillPatchQuestionFill />,\r\n      links: [\r\n        {\r\n          linkName: \"Help Center\",\r\n          linkUrl: \"/dts/managementOfCommunications/helpCenter\",\r\n        },\r\n        // {\r\n        //   linkName: \"Report a Problem\",\r\n        //   linkUrl: \"/dts/managementOfCommunications/reportAProblem\",\r\n        // },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const [isSideNavOpen, setSideNavOpen] = useState(false);\r\n\r\n  const toggleSideNav = () => {\r\n    setSideNavOpen(!isSideNavOpen);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Notification socket={socket} />\r\n      <Topbar\r\n        className=\"bg-dark-green\"\r\n        appName=\"DTS\"\r\n        navItem=\"Management of Communication\"\r\n        sidenav={toggleSideNav}\r\n        toggleSideNav={toggleSideNav}\r\n      />\r\n      <div className=\"d-flex\">\r\n        <Sidenav\r\n          navConfig={navConfig}\r\n          isOpen={isSideNavOpen}\r\n          toggleSideNav={toggleSideNav}\r\n        />\r\n        <Container onClick={() => setSideNavOpen(false)}  fluid>\r\n          <Outlet />\r\n        </Container>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MOC;\r\n"],"names":["checkPermission","userPermissions","allowedPermissions","includes","socket","dispatch","useDispatch","draftsCount","useSelector","state","drafts","length","inboxCount","inbox","user_id","user","roles","newInboxCount","useEffect","getDrafts","getUserRolePermission","getInbox","navConfig","headerName","headerIcon","links","linkName","linkUrl","icon","active","hidden","count","new","showBadge","useState","isSideNavOpen","setSideNavOpen","toggleSideNav","className","appName","navItem","sidenav","isOpen","onClick","fluid"],"sourceRoot":""}