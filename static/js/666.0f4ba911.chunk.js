"use strict";(self.webpackChunkda_rfo_02_portal=self.webpackChunkda_rfo_02_portal||[]).push([[666],{1666:function(e,n,r){r.r(n);var t=r(5861),o=r(885),s=r(7757),a=r.n(s),l=r(2791),c=r(9051),i=r(3513),u=r(370),d=r(9126),m=r(1405),f=r(2666),x=r(184);n.default=function(){var e=(0,m.I0)(),n=(0,m.v9)((function(e){return e.roles})),r=n.roles,s=n.isLoading,h=(0,l.useState)(!1),j=(0,o.Z)(h,2),p=j[0],g=j[1],_=(0,l.useState)(!1),b=(0,o.Z)(_,2),k=b[0],v=b[1],w=(0,l.useState)({}),N=(0,o.Z)(w,2),X=N[0],y=N[1],C=function(){var n=(0,t.Z)(a().mark((function n(r,t){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("Do you really want to delete ".concat(t))){n.next=5;break}return n.next=3,e((0,f.Rd)(r));case 3:"role_delete_unable"===n.sent.payload?alert("Unable to delete. This role is associated to a user."):e((0,f.F3)());case 5:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),M=[{name:"Role Name",selector:function(e){return e.role_name},sortable:!0},{name:"Users",selector:function(e){return e.users},sortable:!0},{name:"Granted",selector:function(e){return e.granted},sortable:!0},{name:"Action",cell:function(n){return(0,x.jsxs)("div",{className:"d-flex align-items-center ",children:[(0,x.jsx)(u.s,{className:"me-1",icon:(0,x.jsx)(d.Ph1,{}),onClick:function(){y(n),e((0,f.ai)(n.role_id)),v(!k)}}),(0,x.jsx)(u.s,{icon:(0,x.jsx)(d.dnY,{}),color:"danger",onClick:function(){return C(n.role_id,n.role_name)}})]})}}],Z=r.map((function(e){return{role_id:e.role_id,role_name:e.role_name,users:e.user_count,granted:e.granted_count}}));return(0,l.useEffect)((function(){e((0,f.F3)())}),[e]),(0,x.jsxs)(c.W2,{className:"mt-3",children:[(0,x.jsx)(u.FT,{isModalOpen:p,toggleModal:g,roles:r}),(0,x.jsx)(u.oV,{isModalOpen:k,toggleModal:v,roleData:X}),(0,x.jsxs)(c.X2,{children:[(0,x.jsx)(c.JX,{md:"12",children:(0,x.jsx)(u.yW,{name:"Roles",buttonName:"Add Role",toggleModal:function(){return g(!p)}})}),(0,x.jsx)(c.JX,{md:"12",children:(0,x.jsx)(c.X2,{children:(0,x.jsx)(c.JX,{md:"6",children:(0,x.jsx)(u.kP,{placeholder:"Search role...",className:"mb-3"})})})}),(0,x.jsxs)(c.JX,{children:[(0,x.jsx)("div",{className:"mt-2"}),(0,x.jsx)(i.ZP,{data:Z,columns:M,highlightOnHover:!0,pagination:!0,progressPending:s,progressComponent:(0,x.jsx)(c.$j,{})})]})]})]})}}}]);
//# sourceMappingURL=666.0f4ba911.chunk.js.map