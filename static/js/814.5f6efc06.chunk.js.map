{"version":3,"file":"static/js/814.5f6efc06.chunk.js","mappings":"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","sources":["Pages/DTS/AddRouting/AddRouting.jsx","Pages/DTS/RoutingSlip/RoutingSlip.jsx"],"sourcesContent":["// Add Routing Page\r\nimport React, { useEffect } from \"react\";\r\nimport { ContentLoader, IconatedButton } from \"../../../Layouts/Portal\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { BsChevronRight } from \"react-icons/bs\";\r\nimport Tabs from \"react-bootstrap/Tabs\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport RoutingSlip from \"../RoutingSlip/RoutingSlip\";\r\nimport { AddRecipientButton, PreviewRouting, RoutingTab } from \"../../../Layouts/DTS\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport \"./style.css\";\r\nimport {\r\n  addInitialRouting,\r\n  getRoutingSlips,\r\n  routeCommunication,\r\n} from \"../../../features/dts/routing/routingSlice\";\r\nimport { taskComplete } from \"../../../features/dts/tasks/tasksSlice\";\r\nimport BackButton from \"../../../Layouts/DTS/BackButton/BackButton\";\r\nimport { Container, Spinner } from \"reactstrap\";\r\nimport { useState } from \"react\";\r\nconst _ = require(\"lodash\");\r\n\r\nconst AddRouting = ({ initial }) => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const { com_id, inbox_id } = useParams();\r\n  const { routingRecipients, addRoutingLoading, errorMessage , isLoading} = useSelector((state) => state.routing);\r\n  const { viewCommunicationData } = useSelector((state) => state.tasks);\r\n  const [previewRouting, setPreview] = useState(false);\r\n  const [routingData, setRoutingData] = useState([]);\r\n\r\n  const togglePreview = () => {\r\n    setPreview(!previewRouting)\r\n  }\r\n\r\n  const onPreviewRouting = async () => {\r\n    const routing_slip_array = [];\r\n    routingRecipients.forEach((routing) => {\r\n      const form = document.getElementById(`routing_${routing.value}`);\r\n      const formData = new FormData(form);\r\n      const routing_legends = Array.from(\r\n        form.querySelectorAll('input[type=\"checkbox\"]:checked')\r\n      ).map((data) => data.value);\r\n      const formDataObject = {};\r\n      formData.forEach(function (value, key) {\r\n        formDataObject[key] = value;\r\n      });\r\n      formDataObject.routing_legend = routing_legends;\r\n\r\n      formDataObject.routing_recipients = [routing];\r\n      formDataObject.com_id = com_id;\r\n\r\n      if (routing.type === \"group\") {\r\n        formDataObject.routing_recipients = routing.recipients;\r\n      }\r\n\r\n      routing_slip_array.push(formDataObject);\r\n    });\r\n\r\n    if(_.isEmpty(routing_slip_array)){\r\n      return alert('Please add recipients')\r\n    }\r\n      // console.log(routing_slip_array);\r\n      setRoutingData(routing_slip_array);\r\n      togglePreview();\r\n  };\r\n\r\n  const onAddRouting = async () => {\r\n    if (initial) {\r\n      // console.log(\"initial routing sent\");\r\n      const response = await dispatch(addInitialRouting(routingData));\r\n      if (response.payload.routingData.com_id) {\r\n        await dispatch(taskComplete(inbox_id));\r\n        navigate(\"/dts/managementOfCommunications/inbox\");\r\n      }\r\n    } else {\r\n      const response = await dispatch(\r\n        routeCommunication(routingData)\r\n      );\r\n      if (response.payload.com_id) {\r\n        await dispatch(taskComplete(inbox_id));\r\n        navigate(\"/dts/managementOfCommunications/inbox\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    if (!initial) {\r\n      dispatch(getRoutingSlips({ com_id, status: \"for_routing\" }));\r\n    }\r\n  }, [dispatch]);\r\n\r\n  const routingSlips = routingRecipients.map((recipient) => {\r\n    return (\r\n      <Tab\r\n        eventKey={recipient.value}\r\n        title={\r\n          <RoutingTab label={recipient.label} username={recipient.value} />\r\n        }\r\n      >\r\n        <RoutingSlip data={recipient} />\r\n      </Tab>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <ContentLoader isLoading={isLoading} errorMessage={errorMessage} className=\"m-3\">\r\n      <PreviewRouting previewRouting={previewRouting} togglePreview={togglePreview} routingData={routingData} onProceed={onAddRouting} />\r\n      <Container>\r\n      <div className=\"d-block d-md-flex mt-3\">\r\n        <h4 className=\"me-3\">\r\n          {viewCommunicationData.com_urgency === \"Rush\" || !initial\r\n            ? \"Route Communication\"\r\n            : \"Add Initial Routing\"}\r\n        </h4>\r\n        <AddRecipientButton />\r\n      </div>\r\n      <hr />\r\n      <Tabs>{routingSlips}</Tabs>\r\n\r\n      {_.isEmpty(routingRecipients) && (\r\n        <p className=\"text-center lead p-3 bg-super-light-green text-secondary mt-3\">\r\n          Add Recipient/s\r\n        </p>\r\n      )}\r\n\r\n      <div className=\"d-flex justify-content-between\">\r\n        <BackButton />\r\n        <IconatedButton\r\n          size=\"md\"\r\n          color=\"primary\"\r\n          name={addRoutingLoading ? <Spinner color=\"light\" /> : \"Submit\"}\r\n          onClick={onPreviewRouting}\r\n          icon={<BsChevronRight />}\r\n        />\r\n      </div>\r\n      </Container>\r\n    </ContentLoader>\r\n  );\r\n};\r\n\r\nexport default AddRouting;\r\n","// Routing slip layout\r\nimport React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Select from \"react-select\";\r\nimport { Col, Row, FormGroup, Label, Input, Form } from \"reactstrap\";\r\nimport {\r\n  setGroupRecipient,\r\n} from \"../../../features/dts/routing/routingSlice\";\r\nimport { RoutingCheckbox } from \"../../../Layouts/DTS\";\r\nimport { getUser } from \"../../../features/Portal/userSlice\";\r\nimport { getAccounts } from \"../../../features/Portal/accountsSlice\";\r\nimport {useReactToPrint} from \"react-to-print\";\r\nimport { useRef } from \"react\";\r\nimport { IconatedButton } from \"../../../Layouts/Portal\";\r\nimport { BsPrinter } from \"react-icons/bs\";\r\nconst _ = require('lodash')\r\n\r\nconst RoutingSlip = ({ data, viewOnly }) => {\r\n  const { users } = useSelector((state) => state.accounts);\r\n  const { user } = useSelector((state) => state.user);\r\n  const { viewCommunicationData } = useSelector((state) => state.tasks);\r\n  const dispatch = useDispatch();\r\n  const { routingRecipients } = useSelector((state) => state.routing);\r\n  const { tasks, taskCounter } = useSelector((state) => state.tasks);\r\n  const printHtml = useRef();\r\n  const handlePrintRouting = useReactToPrint({\r\n    content: () => printHtml.current,\r\n    documentTitle:'routing_slip',\r\n    pageStyle:'print'\r\n  })\r\n\r\n  const groupList = users\r\n    .filter((user) => user.group_id === data.value)\r\n    .map((user) => {\r\n      return {\r\n        value: user.user_username,\r\n        label: `${user.emp_firstname}  ${user.emp_lastname} - ${user.office_code}`,\r\n        user_id: user.user_id,\r\n        user_username: user.user_username,\r\n        user_fullname: `${user.emp_firstname}  ${user.emp_lastname} - ${user.office_code}`,\r\n        role_name: user.role_name,\r\n        role_id: user.role_id,\r\n      };\r\n    });\r\n\r\n  const onChangeGroupRecipient = (selectedUsers) => {\r\n    // setGroupRecipients(selectedUsers);\r\n    dispatch(\r\n      setGroupRecipient({ group_id: data.value, recipients: selectedUsers })\r\n    );\r\n    // console.log(selectedUsers);\r\n  };\r\n\r\n  const routingFrom = () => {\r\n    if(!_.isEmpty(users)){\r\n      if(user.role_name.includes('Process-level') && !viewOnly){\r\n        const pl_approver = users.filter(item => item.role_name === 'Process-level Approver')[0]\r\n        return `${pl_approver.emp_firstname} ${pl_approver.emp_middlename[0]}. ${pl_approver.emp_lastname} - ${pl_approver.emp_position}`; \r\n      }else if(viewOnly){\r\n        const from = users.filter(item => item.user_id === data.routing_from)[0]\r\n        return `${from.emp_firstname} ${from.emp_middlename[0]}. ${from.emp_lastname} - ${from.emp_position}`;\r\n      }else{\r\n        return `${user.emp_firstname} ${user.emp_middlename[0]}. ${user.emp_lastname} - ${user.emp_position}`;\r\n      }\r\n    }\r\n  };\r\n\r\n  const routingData = routingRecipients.filter((r) => r.value === data.value);\r\n\r\n  // const usersList = users\r\n  //   .filter(\r\n  //     (user) =>\r\n  //       !routingRecipients.map((r) => r.value).includes(user.user_username)\r\n  //   )\r\n  //   .map((user) => {\r\n  //     return {\r\n  //       value: user.user_username,\r\n  //       label: `${user.emp_firstname}  ${user.emp_lastname} - ${user.office_code}`,\r\n  //       type: \"user\",\r\n  //     };\r\n  //   });\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      setGroupRecipient({ group_id: data.value, recipients: groupList })\r\n    );\r\n    dispatch(getAccounts())\r\n    dispatch(getUser())\r\n\r\n  }, [dispatch]);\r\n\r\n\r\n  const isLegendContains = (legend) => {\r\n    if(data.routing_legend){\r\n      return data.routing_legend.includes(legend)\r\n    }\r\n  }\r\n\r\n  const showToTask = (task) => {\r\n    const allowedTask = ['viewRouting', 'addRoutingNote', 'forRouting', 'routeCommunication']\r\n    return allowedTask.includes(task);\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <IconatedButton\r\n        name='Print Routing'\r\n        outline\r\n        icon={<BsPrinter />}\r\n        className=\"ms-auto d-block my-2 d-print-none\"\r\n        onClick={handlePrintRouting}\r\n      />\r\n    <Form\r\n      id={`routing_${data.value}`}\r\n      ref={printHtml}\r\n      className=\"p-md-4 p-1 rounded bg-super-light-green m-md-2 routing_slip_form\"\r\n      style={{pointerEvents: viewOnly ? 'none' : ''}}\r\n    >\r\n      <FormGroup>\r\n        <Label for={`reference_no`}>Reference No.</Label>\r\n        <Input\r\n          type=\"text\"\r\n          id={`reference_no`}\r\n          name=\"reference_no\"\r\n          size=\"sm\"\r\n          defaultValue={data.routing_referenceNo ? data.routing_referenceNo : `139-9-${viewCommunicationData.class_code}-` }\r\n        />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label for={`routing_from`}>From</Label>\r\n        <Input\r\n          type=\"text\"\r\n          id={`routing_from`}\r\n          defaultValue={routingFrom()}\r\n          name=\"routing_from\"\r\n          size=\"sm\"\r\n        />\r\n      </FormGroup>\r\n      {data.type === \"group\" ? (\r\n        <FormGroup>\r\n          <Label for=\"routing_to\">To</Label>\r\n          <Select\r\n            options={groupList}\r\n            isMulti\r\n            defaultValue={groupList}\r\n            className=\"basic-multi-select\"\r\n            classNamePrefix=\"select\"\r\n            onChange={onChangeGroupRecipient}\r\n          />\r\n        </FormGroup>\r\n      ) : (\r\n        <FormGroup>\r\n          <Label for=\"routing_to\">To</Label>\r\n          <Select\r\n            options={routingData}\r\n            defaultValue={!data.routing_to ? routingData : [{label: data.label}]}\r\n            classNamePrefix=\"select\"\r\n          />\r\n        </FormGroup>\r\n      )}\r\n\r\n      <Row style={{wordWrap: 'break-word'}}>\r\n        <Col md='6'>\r\n          <RoutingCheckbox\r\n            name=\"routing_legend\"\r\n            id={`for_action_${data.value}`}\r\n            value={`for_action`}\r\n            desc=\"For your appropriate action\"\r\n            isLegendContains={isLegendContains}\r\n          />\r\n          <RoutingCheckbox\r\n            name=\"routing_legend\"\r\n            id={`for_information_${data.value}`}\r\n            value={`for_information`}\r\n            desc=\"For your information/file & reference\"\r\n            isLegendContains={isLegendContains}\r\n          />\r\n          <RoutingCheckbox\r\n            name=\"routing_legend\"\r\n            id={`for_review_${data.value}`}\r\n            value={`for_review`}\r\n            desc=\"For your review/ comments/ recommendation/ validation\"\r\n            isLegendContains={isLegendContains}\r\n          />\r\n          <RoutingCheckbox\r\n            name=\"routing_legend\"\r\n            id={`draft_reply_${data.value}`}\r\n            value={`draft_reply`}\r\n            desc=\"Draft reply/For your acknowledgement\"\r\n            defaultValue={data.routing_draftReply}\r\n            textbox\r\n            isLegendContains={isLegendContains}\r\n          />\r\n        </Col>\r\n        <Col md='6'>\r\n          <RoutingCheckbox \r\n            name=\"routing_legend\" \r\n            id={`rush_${data.value}`} \r\n            value={`rush`} \r\n            desc=\"Rush\" \r\n            isLegendContains={isLegendContains}\r\n          />\r\n          <RoutingCheckbox \r\n            name=\"routing_legend\" \r\n            id={`urgent_${data.value}`} \r\n            value={`urgent`} \r\n            desc=\"Urgent\" \r\n            isLegendContains={isLegendContains}\r\n          />\r\n          <RoutingCheckbox\r\n            name=\"routing_legend\"\r\n            id={`for_circulation_${data.value}`}\r\n            value={`for_circulation`}\r\n            desc=\"For circulation & dissemination\"\r\n            isLegendContains={isLegendContains}\r\n          />\r\n          <RoutingCheckbox\r\n            name=\"routing_legend\"\r\n            id={`for_schedule_${data.value}`}\r\n            value='for_schedule'\r\n            desc=\"For schedule\"\r\n            isLegendContains={isLegendContains}\r\n          />\r\n          <RoutingCheckbox\r\n            name=\"routing_legend\"\r\n            id={`attend_${data.value}`}\r\n            value={`attend`}\r\n            desc=\"Attend/Represent Me\"\r\n            isLegendContains={isLegendContains}\r\n          />\r\n          <RoutingCheckbox\r\n            name=\"routing_legend\"\r\n            id={`consolidate_${data.value}`}\r\n            value={`consolidate`}\r\n            textbox\r\n            defaultValue={isLegendContains('consolidate') ? data.routing_consolidate : \"\\nPlease consolidate & submit to my office on or before\\n\"}\r\n            isLegendContains={isLegendContains}\r\n          />\r\n        </Col>\r\n        {(viewCommunicationData.com_urgency === \"Rush\" || showToTask(tasks[taskCounter])  ) && (\r\n          <Col md=\"12\">\r\n            <FormGroup>\r\n              <Label for={`routing_remarks`}>Remarks</Label>\r\n              <Input\r\n                defaultValue={data.routing_remarks}\r\n                type=\"textarea\"\r\n                id={`routing_remarks_${data.value}`}\r\n                name=\"routing_remarks\"\r\n                size=\"sm\"\r\n                rows=\"5\"\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n        )}\r\n      </Row>\r\n    </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RoutingSlip;\r\n"],"names":["_","require","initial","navigate","useNavigate","dispatch","useDispatch","useParams","com_id","inbox_id","useSelector","state","routing","routingRecipients","addRoutingLoading","errorMessage","isLoading","viewCommunicationData","tasks","useState","previewRouting","setPreview","routingData","setRoutingData","togglePreview","onPreviewRouting","routing_slip_array","forEach","form","document","getElementById","value","formData","FormData","routing_legends","Array","from","querySelectorAll","map","data","formDataObject","key","routing_legend","routing_recipients","type","recipients","push","isEmpty","alert","onAddRouting","addInitialRouting","payload","taskComplete","routeCommunication","useEffect","getRoutingSlips","status","routingSlips","recipient","eventKey","title","label","username","className","onProceed","com_urgency","size","color","name","onClick","icon","viewOnly","users","accounts","user","taskCounter","printHtml","useRef","handlePrintRouting","useReactToPrint","content","current","documentTitle","pageStyle","groupList","filter","group_id","user_username","emp_firstname","emp_lastname","office_code","user_id","user_fullname","role_name","role_id","r","setGroupRecipient","getAccounts","getUser","task","isLegendContains","legend","includes","outline","id","ref","style","pointerEvents","for","defaultValue","routing_referenceNo","class_code","pl_approver","item","emp_middlename","emp_position","routing_from","routingFrom","options","isMulti","classNamePrefix","onChange","selectedUsers","routing_to","wordWrap","md","desc","routing_draftReply","textbox","routing_consolidate","routing_remarks","rows"],"sourceRoot":""}