{"version":3,"file":"static/js/875.c98ef0e2.chunk.js","mappings":"kQAkHA,UAtGuB,WAEnB,IAAMA,GAAWC,EAAAA,EAAAA,MACjB,GAAmEC,EAAAA,EAAAA,WAAS,GAA5E,eAAOC,EAAP,KAAqCC,EAArC,KACA,GAAwEF,EAAAA,EAAAA,WAAS,GAAjF,eAAOG,EAAP,KAAsCC,EAAtC,KACA,GAAoDJ,EAAAA,EAAAA,UAAS,CAAC,GAA9D,eAAOK,EAAP,KAA2BC,EAA3B,KACA,GAAqCC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,eAAV,IAA/CA,EAAP,EAAOA,gBAAiBC,EAAxB,EAAwBA,UACxB,GAAsCV,EAAAA,EAAAA,UAAS,IAA/C,eAAOW,EAAP,KAAoBC,EAApB,KAEMC,EAAU,CACZ,CACAC,KAAM,WACNC,SAAU,SAACC,GAAD,OAASA,EAAIC,QAAb,EACVC,UAAU,GAEV,CAAEJ,KAAM,iBAAkBC,SAAU,SAACC,GAAD,OAASA,EAAIG,UAAb,EAAyBD,UAAU,GACvE,CAAEJ,KAAM,OAAQC,SAAU,SAACC,GAAD,OAASA,EAAII,UAAb,EAAyBF,UAAU,GAC7D,CAAEJ,KAAM,WAAYC,SAAU,SAACC,GAAD,OAASA,EAAIK,SAAb,EAAwBH,UAAU,EAAMI,KAAM,SAACN,GAAD,OAAS,wCAAMA,EAAIK,UAAV,UAAT,GAC5E,CAACP,KAAM,UAAWQ,KAAM,SAACN,GACvB,OACE,iBAAKO,UAAU,SAAf,WACE,SAAC,KAAD,CAAQC,KAAK,KAAKC,MAAM,UAAUF,UAAU,OAAOG,QAAS,WAC1DtB,GAA+BD,GAC/BG,EAAsBU,EACvB,EAHD,UAGG,SAAC,MAAD,OACH,SAAC,KAAD,CAAQQ,KAAK,KAAKC,MAAM,SAASC,SAAO,iBAAE,kFACrCC,OAAOC,QAAP,uCAA+CZ,EAAIG,WAAnD,MADqC,gCAEpBrB,GAAS+B,EAAAA,EAAAA,IAAqBb,EAAIc,WAFd,OAInB,wBAJmB,OAI/BC,QACLC,MAAM,4EAENlC,GAASmC,EAAAA,EAAAA,OAP2B,2CAA1C,UAUG,SAAC,MAAD,QAGR,IAKCC,EAFOzB,EAEa0B,QAAO,SAACC,GAChC,OAAOA,EAAejB,WAAWkB,cAAcC,SAAS3B,EAAY4B,oBACrE,IAcD,OAJAC,EAAAA,EAAAA,YAAU,WACR1C,GAASmC,EAAAA,EAAAA,MACV,GAAE,CAACnC,KAGJ,UAAC,KAAD,CAAWyB,UAAU,OAArB,WACE,SAAC,KAAD,CAAwBkB,YAAaxC,EAA8ByC,YAAaxC,KAChF,SAAC,KAAD,CAAyBuC,YAAatC,EAA+BuC,YAAatC,EAA+BC,mBAAoBA,KACrI,UAAC,KAAD,YACE,SAAC,KAAD,CAAKsC,GAAG,KAAR,UACE,SAAC,KAAD,CACE7B,KAAK,kBACL8B,WAAW,qBACXF,YAAa,kBAAMxC,GAA2BD,EAAjC,OAGjB,SAAC,KAAD,CAAK0C,GAAG,KAAR,UACE,SAAC,KAAD,WACE,SAAC,KAAD,CAAKA,GAAG,IAAR,UACE,SAAC,KAAD,CACEE,YAAa,gCACbtB,UAAU,OACVuB,oBA1BgB,SAACC,GAC3BnC,EAAemC,EAAEC,OAAOC,MACzB,EAyBWtC,YAAaA,EACbuC,YAhCQ,WAClBtC,EAAe,GAChB,WAmCG,UAAC,KAAD,YACE,gBAAKW,UAAU,UACf,SAAC,KAAD,CACE4B,KAAMjB,EACNrB,QAASA,EACTuC,kBAAgB,EAChBC,YAAU,EACVC,gBAAiB5C,EACjB6C,mBACE,SAAC,KAAD,cAOb,C","sources":["Pages/DTS/Classifications/Classfications.jsx"],"sourcesContent":["/*\r\n    Classifications Page\r\n*/\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Container, Row, Col, Button, Spinner } from \"reactstrap\";\r\nimport { ContentHeader, ContentSearch } from \"../../../Layouts/Portal\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport { AddClassificationModal, EditClassificationModal } from \"../../../Layouts/DTS\";\r\nimport {BsPencilFill, BsTrashFill} from 'react-icons/bs';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteClassification, getClassifications } from \"../../../features/dts/classifications/classifications\";\r\n\r\nconst Classfications = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const [isAddClassificationModalOpen, toggleClassificationModal ] = useState(false)\r\n    const [isEditClassificationModalOpen, toggleEditClassificationModal ] = useState(false)\r\n    const [classificationData, setClassificationData] = useState({})\r\n    const {classifications, isLoading} = useSelector(state => state.classifications)\r\n    const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n    const columns = [\r\n        {\r\n        name: \"Category\",\r\n        selector: (row) => row.cat_name,\r\n        sortable: true,\r\n        },\r\n        { name: \"Classification\", selector: (row) => row.class_name, sortable: true},\r\n        { name: \"Code\", selector: (row) => row.class_code, sortable: true,  },\r\n        { name: \"Due Date\", selector: (row) => row.class_due, sortable: true, cell: (row) => <>{`${row.class_due} days`}</> },\r\n        {name: \"Actions\", cell: (row) => {\r\n          return (\r\n            <div className=\"d-flex\">\r\n              <Button size=\"sm\" color=\"success\" className=\"me-1\" onClick={()=> {\r\n                toggleEditClassificationModal(!isEditClassificationModalOpen)\r\n                setClassificationData(row)\r\n              }}><BsPencilFill /></Button>\r\n              <Button size=\"sm\" color=\"danger\" onClick={async () => {\r\n                if(window.confirm(`Do you really want to delete ${row.class_name}?`)){\r\n                  const res = await dispatch(deleteClassification(row.class_id));\r\n                  \r\n                  if(res.payload === 'class_delete_unable'){\r\n                    alert('Unable to delete. This Classification is assiociated to a communication.')\r\n                  }else{\r\n                    dispatch(getClassifications())\r\n                  }\r\n                }\r\n              }}><BsTrashFill /></Button>\r\n            </div>\r\n          )\r\n        }}\r\n    ];\r\n\r\n    const data = classifications;\r\n\r\n    const filteredData = data.filter((classification) => {\r\n      return classification.class_name.toLowerCase().includes(searchValue.toLocaleLowerCase());\r\n    });\r\n  \r\n    const clearSearch = () => {\r\n      setSearchValue(\"\");\r\n    };\r\n\r\n    const onSearchValueChange = (e) => {\r\n      setSearchValue(e.target.value);\r\n    };\r\n\r\n    useEffect(() => {\r\n      dispatch(getClassifications())\r\n    }, [dispatch])\r\n\r\n    return (\r\n    <Container className=\"mt-3\">\r\n      <AddClassificationModal isModalOpen={isAddClassificationModalOpen} toggleModal={toggleClassificationModal} />\r\n      <EditClassificationModal isModalOpen={isEditClassificationModalOpen} toggleModal={toggleEditClassificationModal} classificationData={classificationData} />\r\n      <Row>\r\n        <Col md=\"12\">\r\n          <ContentHeader\r\n            name=\"Classifications\"\r\n            buttonName=\"Add Classification\"\r\n            toggleModal={() => toggleClassificationModal(!isAddClassificationModalOpen)}\r\n          />\r\n        </Col>\r\n        <Col md=\"12\">\r\n          <Row>\r\n            <Col md=\"6\">\r\n              <ContentSearch\r\n                placeholder={\"Search classification name...\"}\r\n                className=\"mb-3\"\r\n                onSearchValueChange={onSearchValueChange}\r\n                searchValue={searchValue}\r\n                clearSearch={clearSearch}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        <Col>\r\n          <div className=\"mt-2\"></div>\r\n          <DataTable\r\n            data={filteredData}\r\n            columns={columns}\r\n            highlightOnHover\r\n            pagination\r\n            progressPending={isLoading}\r\n            progressComponent={\r\n              <Spinner />\r\n            }\r\n          />\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Classfications;\r\n"],"names":["dispatch","useDispatch","useState","isAddClassificationModalOpen","toggleClassificationModal","isEditClassificationModalOpen","toggleEditClassificationModal","classificationData","setClassificationData","useSelector","state","classifications","isLoading","searchValue","setSearchValue","columns","name","selector","row","cat_name","sortable","class_name","class_code","class_due","cell","className","size","color","onClick","window","confirm","deleteClassification","class_id","payload","alert","getClassifications","filteredData","filter","classification","toLowerCase","includes","toLocaleLowerCase","useEffect","isModalOpen","toggleModal","md","buttonName","placeholder","onSearchValueChange","e","target","value","clearSearch","data","highlightOnHover","pagination","progressPending","progressComponent"],"sourceRoot":""}