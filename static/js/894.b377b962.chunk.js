"use strict";(self.webpackChunkda_rfo_02_portal=self.webpackChunkda_rfo_02_portal||[]).push([[894],{3870:function(e,n,t){t.r(n);var r=t(5861),o=t(885),s=t(7757),c=t.n(s),a=t(2791),l=t(9051),i=t(370),u=t(3513),d=t(9126),m=t(1405),f=t(8230),h=t(2426),x=t.n(h),j=t(5617),p=t(6263),g=t.n(p),_=t(184),C=t(763);n.default=function(e){var n=e.socket,t=(0,m.I0)(),s=(0,a.useState)(""),h=(0,o.Z)(s,2),p=h[0],b=h[1],k=(0,m.v9)((function(e){return e.drafts})),w=k.isLoading,N=k.drafts,v=(0,a.useState)(!1),M=(0,o.Z)(v,2),S=M[0],y=M[1],D=(0,a.useState)({}),E=(0,o.Z)(D,2),X=E[0],Y=E[1],Z=(0,m.v9)((function(e){return e.user.user})).user_id,z=[{name:"Control No",selector:function(e){return e.com_controlNo},sortable:!0,wrap:!0,cell:function(e){return C.isEmpty(p)?e.com_controlNo:(0,_.jsx)(g(),{highlightClassName:"bg-super-light-green",searchWords:[p],autoEscape:!0,textToHighlight:e.com_controlNo})}},{name:"Classification",selector:function(e){return e.class_name},sortable:!0,cell:function(e){return e.class_name+" "+e.cat_name}},{name:"Subject",selector:function(e){return e.com_subject},sortable:!0,wrap:!0},{name:"Date Created",selector:function(e){return e.com_dateCreated},sortable:!0,cell:function(e){return x()(e.com_dateCreated).format("dddd, MMMM Do YYYY")}},{name:"Action",cell:function(e){return(0,_.jsxs)("div",{className:"d-flex",children:[(0,_.jsx)(l.zx,{size:"sm",color:"success",className:"me-1",onClick:function(){y(!S),Y(e)},children:(0,_.jsx)(d.Aac,{})}),(0,_.jsx)(l.zx,{size:"sm",color:"danger",onClick:(0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("Do you really want to discard this communication?")){n.next=3;break}return n.next=3,t((0,f.vQ)(e.com_id)).then((function(){return t((0,f.Oe)())}));case 3:case"end":return n.stop()}}),n)}))),children:(0,_.jsx)(d.dnY,{})})]})}}],L=N.filter((function(e){return e.com_controlNo.toLowerCase().includes(p.toLocaleLowerCase())}));return(0,a.useEffect)((function(){t((0,f.Oe)(Z))}),[t,Z]),(0,_.jsxs)(l.W2,{className:"mt-3",children:[!C.isEmpty(X)&&(0,_.jsx)(j.y6,{isModalOpen:S,toggleModal:y,draftData:X,socket:n}),(0,_.jsxs)(l.X2,{children:[(0,_.jsx)("h3",{children:"Drafts"}),(0,_.jsx)(l.JX,{md:"12",children:(0,_.jsx)(l.X2,{children:(0,_.jsx)(l.JX,{md:"6",children:(0,_.jsx)(i.kP,{placeholder:"Enter control number...",className:"mb-3",onSearchValueChange:function(e){b(e.target.value)},searchValue:p,clearSearch:function(){b("")}})})})}),(0,_.jsxs)(l.JX,{children:[(0,_.jsx)("div",{className:"mt-2"}),(0,_.jsx)(u.ZP,{data:L,columns:z,highlightOnHover:!0,pagination:!0,progressPending:w,progressComponent:(0,_.jsx)(l.$j,{})})]})]})]})}}}]);
//# sourceMappingURL=894.b377b962.chunk.js.map